# üõ°Ô∏è CLINE RULES & BEHAVIOR (CSYSTEM PROJECT)
**Version:** 3.0 (Unified Documentation Architecture)

---

## üî¥ CRITICAL: READ THIS FIRST

**Before doing ANYTHING, execute:**
```
@sync
```
This activates the full onboarding protocol. See `.agent/workflows/sync.md`.


**Documentation Entry Point:** [`_SYSTEM_DOCS_V3/4_Protokol_Agent/DOCS_HUB.md`](_SYSTEM_DOCS_V3/4_Protokol_Agent/DOCS_HUB.md)

---

## üåü SYSTEM IDENTITY

| Term | Meaning |
|------|---------|
| **Csystem** | The underlying engine/architecture |
| **Architect V3** | Core-First Plugin Architecture transition |
| **Corelink SIP** | Pilot product (Archery) |
| **CoreID** | User's unique identity |
| **Genesis Tree** | The master roadmap vision |

---

## üöÄ SESSION PROTOCOLS

### @sync (Session Start)
**Trigger:** Start of session or `@sync` command
**Action:** Read `README.md` ‚Üí `_SYSTEM_DOCS_V3/ARCHITECT_TRANSITION_V3.md`
**Workflow:** `.agent/workflows/sync.md`

### @snag (Problem Escalation)
**Trigger:** Same error after 2-3 attempts or `@snag` command
**Action:** Search skills library, apply solution
**Output:** Snag Report with resolution
**Workflow:** `.agent/workflows/snag.md`

### @endsession (Clean Exit)
**Trigger:** End of session or `@endsession` command
**Action:** Update docs, verify builds, prepare for git push
**Output:** Session summary with next steps
**Workflow:** `.agent/workflows/endsession.md`

### /lint-protocol (Build Check)
**Trigger:** Sebelum marking task as done
**Action:** Run `tsc --noEmit` on server and client
**Workflow:** `.agent/workflows/lint-protocol.md`

---

## üèóÔ∏è DOCUMENTATION HIERARCHY (V3 Transition)

```
_SYSTEM_DOCS_V3/
‚îú‚îÄ‚îÄ ARCHITECT_TRANSITION_V3.md  ‚Üê MANDATORY START
‚îú‚îÄ‚îÄ 1_Visi_&_Filosofi/           ‚Üê Blueprint & Vision
‚îú‚îÄ‚îÄ 2_Track_Record/             ‚Üê ADRs, Progress & Troubleshoot
‚îú‚îÄ‚îÄ 3_Roadmap_&_Tasks/          ‚Üê Current Phase & Active Sprint
‚îî‚îÄ‚îÄ 4_Protokol_Agent/           ‚Üê DOCS_HUB & Registry
```

---

## üèóÔ∏è ARCHITECTURAL LAWS

### 1. Modular Galaxy Rule
- Domains: `core`, `athlete`, `club`, `event`, `commerce`, `admin`
- **STRICT:** Module A cannot import from Module B
- **ALLOWED:** All modules can import from `core`

### 2. Mirroring Pattern
- `client/src/modules/X` ‚Üî `server/src/modules/X`

### 3. Laboratory Protocol
- Experimental features go to `LABS/`
- Must be registered in `LABS/REGISTRY.md`

### 4. Terminology
- ‚ùå "Staff" ‚Üí ‚úÖ "Manpower"
- ‚ùå "sipId" ‚Üí ‚úÖ "coreId"

---

## ü§ñ AGENT PERSONAS

Auto-activate based on task type:

| Task Type | Persona | Focus |
|-----------|---------|-------|
| UI/React/Component | `@frontend` | `client/` only |
| API/Database/Prisma | `@backend` | `server/` only |
| Refactor/Structure | `@architect` | Both, structure only |

Persona definitions: `.agent/personas/`

---

## ‚ö†Ô∏è RESTRICTIONS

1. **NO SPAGHETTI:** No circular dependencies
2. **NO DUPLICATION:** Check before creating
3. **NO GUESSWORK:** Ask for clarification
4. **NO CROSS-IMPORT:** Modules don't import each other
5. **NO BROKEN BUILDS:** Always verify before "done"

---

## üìù MEMORY BANK (LEGACY)

The `memory-bank/` folder is **deprecated**. Use:
- `ROADMAP/CURRENT_PHASE.md` instead of `activeContext.md`
- `LOGS/DECISIONS.md` instead of `decisionLog.md`
- `LOGS/PROGRESS.md` instead of `progress.md`

Files in `memory-bank/` are kept for reference but should not be updated.

---

*Last Updated: 2026-01-31 21:45 WIB*